# Garden Statistical Attractors: Influence, Resonance & Defect Propagation

**Implementation**: `src/core/garden_statistical_attractors.py` (1152 lines)  
**Theory Source**: [garden statistical attractors.txt](garden%20statistical%20attractors%20of%20influence,%20resonance,%20and%20defect%20propagation.txt)

---

## 1. Overview

The Garden Statistical Attractors module implements a dynamics system for **influence propagation**, **resonance lock-in**, and **defect tracking** across the reasoning manifold. It draws from Bostick-style resonance theory, modular arithmetic scaffolding, and chiral gating.

The "garden" metaphor: attractors are planted, tended, and pruned — they grow organically through interaction rather than being globally optimized.

---

## 2. Core Components

### 2.1 `InfluenceAttractor`

Models how concept vectors are pulled toward learned attractor basins.

**Parameters**:
- `num_attractors` — Number of attractor basins
- `feature_dim` — Dimensionality of concept vectors
- `device` — Compute device

**Key Methods**:

| Method | Description |
|--------|-------------|
| `compute_statistical_pull(concept_vector)` | Measures attractive force toward each basin |
| `compute_phase_aligned_traversal(concept_vector)` | Traversal along phase-aligned paths through basins |

**Statistical Pull**: For a concept vector $c$ and attractor center $\mu_k$:

$$F_k(c) = \frac{\exp(-\|c - \mu_k\|^2 / 2\sigma_k^2)}{\sum_j \exp(-\|c - \mu_j\|^2 / 2\sigma_j^2)}$$

The pull is softmax-weighted, ensuring smooth transitions between attractor basins.

**Phase-Aligned Traversal**: The system aligns traversal direction with the phase gradient:

$$\hat{v}(c) = \nabla_c \arg\!\max_k F_k(c)$$

This prevents discontinuous jumps between attractors — the system flows along the manifold rather than teleporting.

### 2.2 `ResonanceAttractor`

Implements Bostick-style resonance dynamics for mode coupling.

**Parameters**:
- `num_modes` — Number of resonant modes
- `base_frequency` — Fundamental resonance frequency

**Key Methods**:

| Method | Description |
|--------|-------------|
| `lock_in_resonance(signal)` | Achieves phase-locked resonance with input signal |

**Lock-in Equation**: Resonance is achieved when the signal's spectral content aligns with the attractor's natural frequency:

$$R(s) = \sum_n A_n \cdot \cos(\omega_n t - \phi_n) \cdot \text{sech}(\kappa_n (s - s_n))$$

where $\omega_n = 2\pi f_{\text{base}} / p_n$ (frequencies indexed by polynomial co-prime functionals, not hardcoded primes).

### 2.3 Defect Propagation

Tracks topological defects (violations of local coherence) and their propagation across the attractor landscape.

**Defect dynamics**: When a gyroid violation score exceeds threshold, a defect is spawned and propagates via:

$$\frac{\partial d}{\partial t} = D \nabla^2 d + \alpha \cdot V_{\text{gyroid}}(x) - \beta \cdot d$$

where $D$ is the diffusion coefficient, $V_{\text{gyroid}}$ is the local gyroid violation, and $\beta$ is the decay rate.

---

## 3. Chiral Gating

The module implements **chiral gates** that control information flow based on chirality (handedness) of the traversal:

$$g_{\chi}(x) = \sigma\bigl(\chi(x) \cdot W_g + b_g\bigr)$$

where $\chi(x)$ is the local chirality score from the gyroid covariance estimator (§5 in MATHEMATICAL_DETAILS.md). The gate ensures that:
- **Right-handed** traversals preferentially activate influence attractors
- **Left-handed** traversals preferentially activate resonance modes
- **Achiral** regions allow both, enabling cross-modal coupling

---

## 4. Anisotropic Convergence

Convergence toward attractor basins is **anisotropic** — it varies by direction:

$$\dot{c} = -\Lambda(c) \cdot (c - \mu_k)$$

where $\Lambda(c)$ is a direction-dependent convergence rate tensor (not a scalar). This prevents isotropic collapse to the attractor center and preserves the **shape** of the concept as it converges.

---

## 5. Connection to System Architecture

| Component | Relationship |
|-----------|-------------|
| [Ley Line Tracker](../src/core/ley_line_tracker.py) | Ley lines are gradient streamlines of the resonance potential field generated by these attractors |
| [Situational Batching](../src/core/situational_batching.py) | Batch selection influenced by attractor proximity and resonance strength |
| [Gyroid Covariance](MATHEMATICAL_DETAILS.md#5-gyroidic-covariance-violation-exploration-gcve) | Gyroid violations seed defect propagation |
| [Love Vector](../src/core/love_vector.py) | Love magnitudes modulate attractor pull strength |
| [ADMR](../src/core/admr_solver.py) | Alternating Directions of Multiplicative Remainders provides the number-theoretic scaffold |

---

## 6. Implementation Context (AI Hints)

**Module**: `src/core/garden_statistical_attractors.py`

**Class hierarchy**:
```
InfluenceAttractor (nn.Module)
  ├── compute_statistical_pull()
  └── compute_phase_aligned_traversal()
ResonanceAttractor (nn.Module)
  └── lock_in_resonance()
```

**Key tensor shapes**:
| Tensor | Shape | Description |
|--------|-------|-------------|
| Concept vector | `[B, D]` | Batch × FeatureDim |
| Attractor centers | `[N_att, D]` | NumAttractors × FeatureDim |
| Pull forces | `[B, N_att]` | Per-attractor pull strength |
| Resonance signal | `[B, T]` | Batch × TimeSteps |
| Defect field | `[B, D]` | Defect magnitude per dimension |
| Chiral gate | `[B, 1]` | Scalar gate value per sample |
